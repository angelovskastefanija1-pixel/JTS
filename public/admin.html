<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Admin Panel - JTS Logistics INC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="admin.css">
  <style>
    .img-url-box { margin-top: 6px; }
    .img-url-box input { width: 100%; padding: 6px; border-radius: 6px; border: 1px solid #ccc; }
    .preview { margin-top: 10px; max-width: 100%; border-radius: 8px; display: none; }
    .preview.shown { display: block; }
    .preview-btn { margin-top: 4px; padding: 6px 10px; border-radius: 6px; border: none; background: #00A6A6; color: #fff; cursor: pointer; }
    .preview-btn:hover { background: #018a8a; }
  </style>
</head>

<body>
  <header>
    <h1>JTS Logistics â€” Admin Panel</h1>
  </header>

  <main>
    <!-- LOGIN SECTION -->
    <section id="login-box" class="card">
      <h2>Login</h2>
      <label>Username <input id="u" value="admin"></label>
      <label>Password <input id="p" type="password" value="1234"></label>
      <button id="login">Login</button>
      <p id="login-note"></p>
    </section>

    <!-- ADMIN DASHBOARD -->
    <section id="editor" style="display:none" class="card">
      <div class="topbar">
        <div id="role-pill" class="pill"></div>
        <button id="logout">Logout</button>
        <button id="refresh">Reload Content</button>
        <button id="save" class="primary">Save Changes</button>
      </div>

      <!-- WEEKLY TOPS -->
      <details open id="topsSection">
        <summary><b>Our Weekly TOPs</b></summary>
        <div class="row">

          <!-- ðŸ¥‡ Winner -->
          <div class="card">
            <h3>ðŸ¥‡ Winner</h3>
            <label>YouTube Video Link <input id="tops.0.video"></label>

            <div class="img-url-box">
              <label>Image URL</label>
              <input id="tops.0.imageUrl" type="url" placeholder="Paste image link (e.g. https://example.com/image.jpg)">
              <button class="preview-btn" data-preview="0">Preview</button>
              <img id="tops.0.preview" class="preview" alt="Preview">
            </div>

            <label>Name <input id="tops.0.name"></label>
<label>Route Image Link <input id="tops.0.routeImage" placeholder="https://example.com/route1.jpg"></label>
<label>Route Name <input id="tops.0.route" placeholder="Winner Top"></label>
            <label>Kilometers <input id="tops.0.km" type="number" min="0"></label>
          </div>

          <!-- ðŸ¥ˆ Silver -->
          <div class="card">
            <h3>ðŸ¥ˆ Silver</h3>
            <label>YouTube Video Link <input id="tops.1.video"></label>

            <div class="img-url-box">
              <label>Image URL</label>
              <input id="tops.1.imageUrl" type="url" placeholder="Paste image link (e.g. https://example.com/image.jpg)">
              <button class="preview-btn" data-preview="1">Preview</button>
              <img id="tops.1.preview" class="preview" alt="Preview">
            </div>

            <label>Name <input id="tops.1.name"></label>
<label>Route Image Link <input id="tops.0.routeImage" placeholder="https://example.com/route1.jpg"></label>
<label>Route Name <input id="tops.0.route" placeholder="Secound Top"></label>
            <label>Kilometers <input id="tops.1.km" type="number" min="0"></label>
          </div>

          <!-- ðŸ¥‰ Bronze -->
          <div class="card">
            <h3>ðŸ¥‰ Bronze</h3>
            <label>YouTube Video Link <input id="tops.2.video"></label>

            <div class="img-url-box">
              <label>Image URL</label>
              <input id="tops.2.imageUrl" type="url" placeholder="Paste image link (e.g. https://example.com/image.jpg)">
              <button class="preview-btn" data-preview="2">Preview</button>
              <img id="tops.2.preview" class="preview" alt="Preview">
            </div>

            <label>Name <input id="tops.2.name"></label>
<label>Route Image Link <input id="tops.0.routeImage" placeholder="https://example.com/route1.jpg"></label>
<label>Route Name <input id="tops.0.route" placeholder="3th Top"></label>
            <label>Kilometers <input id="tops.2.km" type="number" min="0"></label>
          </div>

        </div>
      </details>

      <!-- INBOX SECTION -->
      <details open id="inboxSection">
        <summary><b>Inbox Messages</b></summary>
        <div class="inbox-wrapper">
          <table id="inboxTable">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Message</th>
                <th>Date</th>
                <th>Attachment</th>
              </tr>
            </thead>
            <tbody id="inbox"></tbody>
          </table>
        </div>
      </details>

      <!-- SITE PREVIEW -->
      <details open>
        <summary><b>Live Preview</b></summary>
        <iframe id="sitePreview" src="/" width="100%" height="500" style="border:1px solid #ccc;border-radius:8px;"></iframe>
      </details>
    </section>
  </main>

  <script src="site-content-admin.js"></script>
  <script>
    // ---------- Preview buttons ----------
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.preview-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const index = btn.getAttribute('data-preview');
          const input = document.getElementById(`tops.${index}.imageUrl`);
          const img = document.getElementById(`tops.${index}.preview`);
          const url = input.value.trim();

          if (!url) {
            alert('Please enter an image URL first!');
            return;
          }

          img.src = url;
          img.classList.add('shown');
        });
      });
    });
  </script>
</body>
</html>
